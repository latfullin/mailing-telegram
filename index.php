<?php
require_once "app/kernel.php";

use App\Controllers\AutorizationController;
use App\Controllers\Controller;
use App\Controllers\CreateMailingMessagesController;
use App\Controllers\InvitationsController;
use App\Controllers\MailingMessagesController;
use App\Controllers\ParserController;
use App\Controllers\PrepareAccountController;
use App\Controllers\WakeUpAccountsController;
use App\Models\InvitationsModel;
use App\Models\MailingModel;
use App\Models\PhoneModel;
use App\Models\TasksModel;
use App\Providers\Providers;
use App\Services\Authorization\Telegram;
use App\Services\Bot\TelegramBot;
use danog\MadelineProto\Logger;
use danog\MadelineProto\messages;
use danog\MadelineProto\MyTelegramOrgWrapper;
use danog\MadelineProto\Tools;

// new Providers(ParserController::class, "parseGroup", ["channel" => $a[0]]);
// }

// 79346648049 -- need auto

new Providers(AutorizationController::class, "createSession", [
  "phone" => 84923592238,
]);

// new Controller(InvitationsController::class, "invitationsChannel", [
//   "channel" => "https://t.me/asdasdasdzxew",
//   "users" => $a,
//   "checkUsers" => false,
// // ]);

// new Providers(WakeUpAccountsController::class, "wakeUpAccounts", [
//   "channel" => "https://t.me/+vZ57IK_pcghiOWZi",
// ]);

// $msg =
//   "–ü—Ä–∏–≤–µ—Ç! –ü–∏—à—É –í–∞–º —Ç–∞–∫ –∫–∞–∫ –º—ã —Å–æ—Å—Ç–æ–∏–º –≤ –æ–¥–Ω–æ–º —á–∞—Ç–µ.\n\n–ú–µ–Ω—è –∑–æ–≤—É—Ç –î–º–∏—Ç—Ä–∏–π –ë–µ–¥–∞—Ä–µ–≤, —è –∞–∫—Ç–µ—Ä –∏ —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –í—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å–º–æ—Ç—Ä–µ–ª–∏ –ø–æ –¢–í üé¨ ¬´–¢–∞—Ä–∏—Ñ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π¬ª, ¬´–î–æ–º–æ–≤–æ–π¬ª, ¬´–í –æ–∂–∏–¥–∞–Ω–∏–∏ —á—É–¥–∞¬ª, ¬´–ë–µ–ª–æ–≤–æ–¥—å–µ¬ª –∏ –ø—Ä.\n\n–í—Å–µ —ç—Ç–∏ —Ñ–∏–ª—å–º—ã —Å–≤—è–∑–∞–Ω—ã —Å —á—É–¥–µ—Å–∞–º–∏ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∂–µ–ª–∞–Ω–∏–π –∏ –ø–æ—ç—Ç–æ–º—É —è —Å–æ–∑–¥–∞–ª –Ω–∞—Å—Ç–æ—è—â–∏–π –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π –º–∞—Ä–∞—Ñ–æ–Ω ‚ú® ¬´–¢—ã –º–æ–∂–µ—à—å –í—Å–µ!¬ª‚ú®\n\n–Ø —Ö–æ—á—É –ø–æ–ø—Ä–æ—Å–∏—Ç—å –í–∞—Å –ø—Ä–æ–π—Ç–∏ —ç—Ç–æ—Ç –º–∞—Ä–∞—Ñ–æ–Ω, –í—ã –ø–æ–ª—É—á–∏—Ç–µ –º–Ω–æ–≥–æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –Ω—É –∞ –¥–ª—è –º–µ–Ω—è –±—É–¥–µ—Ç –≤–∞–∂–µ–Ω –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ—Ç–∑—ã–≤ ü§ù\n\n–•–æ—Ä–æ—à–æ? –í–æ—Ç —Å—Å—ã–ª–æ—á–∫–∞, —Ç–∞–º –≤—Å–µ –æ–ø–∏—Å–∞–ª - https://lifeskill.pro/?utm_source=telegram \n\n–≠—Ç–æ 21-–¥–Ω–µ–≤–Ω—ã–π –º–∞—Ä–∞—Ñ–æ–Ω –∏ –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –í—ã –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç–µ –ª—é–±—É—é —Å–≤–æ—é –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é —Ü–µ–ª—å!\n\n[–í–ê–ñ–ù–û!] –°—Ç–∞—Ä—Ç –º–∞—Ä–∞—Ñ–æ–Ω–∞ - 6 —Å–µ–Ω—Ç—è–±—Ä—è\n\n–ë—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å üôè –∏ –±—É–¥—É —Ä–∞–¥ –≤–∏–¥–µ—Ç—å –í–∞—Å –Ω–∞ –º–∞—Ä–∞—Ñ–æ–Ω–µ \n–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –ú–∞—Ä–∞—Ñ–æ–Ω—É –ø—É–±–ª–∏–∫—É—é –≤ –∫–∞–Ω–∞–ª–µ, –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å - https://t.me/+QNJdHU1TfU40ZGUy\n\n–°–ø–∞—Å–∏–±–æ!";
// $uniq = 3;

// foreach($phone as $item)
// Telegram::instance($item)->sendFoto(
//   "@hitThat",
//   "DimaTelegram.jpg",
//   $msg . $uniq
// );
// print_r($a);

// $a = new PhoneModel();
// $b = $a->limit(5)->sessionList();

// print_r($b);

// new Providers(PrepareAccountController::class, "prepareAccount", [
//   "photo" => "imag.jpg",
//   "firstName" => "–î–º–∏—Ç—Ä–∏–π",
//   "lastName" => "–ë–µ–¥–∞—Ä–µ–≤",
//   "about" => "–ê–∫—Ç–µ—Ä –∏ —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –í—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å–º–æ—Ç—Ä–µ–ª–∏ –ø–æ –¢–í.",
// ]);

// $a = file("users");
// $users = array_map(fn($i) => trim($i), $a);

// new Providers(MailingMessagesController::class, "createMailingMessages", [
//   "users" => $users,
//   "photo" => "DimaTelegram.jpg",
//   "limit" => 501,
//   "msg" =>
//     "–ü—Ä–∏–≤–µ—Ç! –ü–∏—à—É –í–∞–º —Ç–∞–∫ –∫–∞–∫ –º—ã —Å–æ—Å—Ç–æ–∏–º –≤ –æ–¥–Ω–æ–º —á–∞—Ç–µ.\n\n–ú–µ–Ω—è –∑–æ–≤—É—Ç –î–º–∏—Ç—Ä–∏–π –ë–µ–¥–∞—Ä–µ–≤, —è –∞–∫—Ç–µ—Ä –∏ —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –í—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å–º–æ—Ç—Ä–µ–ª–∏ –ø–æ –¢–í üé¨ ¬´–¢–∞—Ä–∏—Ñ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π¬ª, ¬´–î–æ–º–æ–≤–æ–π¬ª, ¬´–í –æ–∂–∏–¥–∞–Ω–∏–∏ —á—É–¥–∞¬ª, ¬´–ë–µ–ª–æ–≤–æ–¥—å–µ¬ª –∏ –ø—Ä.\n\n–í—Å–µ —ç—Ç–∏ —Ñ–∏–ª—å–º—ã —Å–≤—è–∑–∞–Ω—ã —Å —á—É–¥–µ—Å–∞–º–∏ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∂–µ–ª–∞–Ω–∏–π –∏ –ø–æ—ç—Ç–æ–º—É —è —Å–æ–∑–¥–∞–ª –Ω–∞—Å—Ç–æ—è—â–∏–π –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π –º–∞—Ä–∞—Ñ–æ–Ω ‚ú® ¬´–¢—ã –º–æ–∂–µ—à—å –í—Å–µ!¬ª‚ú®\n\n–Ø —Ö–æ—á—É –ø–æ–ø—Ä–æ—Å–∏—Ç—å –í–∞—Å –ø—Ä–æ–π—Ç–∏ —ç—Ç–æ—Ç –º–∞—Ä–∞—Ñ–æ–Ω, –í—ã –ø–æ–ª—É—á–∏—Ç–µ –º–Ω–æ–≥–æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –Ω—É –∞ –¥–ª—è –º–µ–Ω—è –±—É–¥–µ—Ç –≤–∞–∂–µ–Ω –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ—Ç–∑—ã–≤ ü§ù\n\n–•–æ—Ä–æ—à–æ? –í–æ—Ç —Å—Å—ã–ª–æ—á–∫–∞, —Ç–∞–º –≤—Å–µ –æ–ø–∏—Å–∞–ª - https://lifeskill.pro/?utm_source=telegram \n\n–≠—Ç–æ 21-–¥–Ω–µ–≤–Ω—ã–π –º–∞—Ä–∞—Ñ–æ–Ω –∏ –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –í—ã –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç–µ –ª—é–±—É—é —Å–≤–æ—é –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é —Ü–µ–ª—å!\n\n[–í–ê–ñ–ù–û!] –°—Ç–∞—Ä—Ç –º–∞—Ä–∞—Ñ–æ–Ω–∞ - 6 —Å–µ–Ω—Ç—è–±—Ä—è\n\n–ë—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å üôè –∏ –±—É–¥—É —Ä–∞–¥ –≤–∏–¥–µ—Ç—å –í–∞—Å –Ω–∞ –º–∞—Ä–∞—Ñ–æ–Ω–µ \n–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –ú–∞—Ä–∞—Ñ–æ–Ω—É –ø—É–±–ª–∏–∫—É—é –≤ –∫–∞–Ω–∞–ª–µ, –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å - https://t.me/+QNJdHU1TfU40ZGUy\n\n–°–ø–∞—Å–∏–±–æ!",
// ]);

// $tasksModel = new TasksModel();
// $task = $tasksModel->where(["task" => 150])->first();
// print_r($task);

// $proxy = [
//   [
//     "address" => "217.29.63.93",
//     "login" => "9BHbPq",
//     "password" => "R0MXLT",
//     "port" => "11605",
//     "ivp6" => "2a0b:1586:30bb:40e6:a369:9d23:bb0f:f6fc",
//   ],
//   [
//     "address" => "217.29.63.93",
//     "login" => "9BHbPq",
//     "password" => "R0MXLT",
//     "port" => "11604",
//     "ivp6" => "2a0b:1581:4612:cf40:a0a8:973e:2a45:24ca",
//   ],
//   [
//     "address" => "217.29.63.93",
//     "login" => "9BHbPq",
//     "password" => "R0MXLT",
//     "port" => "11603",
//     "ivp6" => "2a0b:1585:7d00:d810:91f3:a9f9:9aa0:a05f",
//   ],
//   [
//     "address" => "217.29.63.93",
//     "login" => "U5oeFY",
//     "password" => "EvdqKV",
//     "port" => "11602",
//     "ivp6" => "2a0b:1582:67c7:c4f6:cac9:d0ed:a8bd:b3cf",
//   ],
//   [
//     "address" => "217.29.63.93",
//     "login" => "U5oeFY",
//     "password" => "EvdqKV",
//     "port" => "11601",
//     "ivp6" => "2a0b:1582:f9a6:8b1e:6e1d:57b1:7e35:58ee",
//   ],
//   [
//     "address" => "217.29.63.93",
//     "login" => "U5oeFY",
//     "password" => "EvdqKV",
//     "port" => "11600",
//     "ivp6" => "2a0b:1587:e4be:f7b1:5427:7035:586b:6b20",
//   ],
//   [
//     "address" => "217.29.63.93",
//     "login" => "HnUkmf",
//     "password" => "qLkNnp",
//     "port" => "11599",
//     "ivp6" => "2a0b:1581:1fa7:d685:ce6b:2bb6:1120:2010",
//   ],
//   [
//     "address" => "217.29.53.112",
//     "login" => "QqnGvk",
//     "password" => "j7HwhV",
//     "port" => "13143",
//     "ivp6" => "2a0b:1584:c636:09ab:9039:7b57:26eb:f563",
//   ],
//   [
//     "address" => "217.29.53.112",
//     "login" => "QqnGvk",
//     "password" => "j7HwhV",
//     "port" => "13142",
//     "ivp6" => "2a0b:1581:c38b:4ced:551c:2d87:3f4d:24d8",
//   ],
//   [
//     "address" => "217.29.63.224",
//     "login" => "QqnGvk",
//     "password" => "j7HwhV",
//     "port" => "11984",
//     "ivp6" => "2a0b:1583:76db:2060:4221:7b4e:cc0c:d819",
//   ],
//   [
//     "address" => "217.29.53.66",
//     "login" => "QqnGvk",
//     "password" => "j7HwhV",
//     "port" => "10114",
//     "ivp6" => "2a0b:1585:a657:19db:bb02:36d9:1107:51dc",
//   ],
//   [
//     "address" => "217.29.62.231",
//     "login" => "QqnGvk",
//     "password" => "j7HwhV",
//     "port" => "13488",
//     "ivp6" => "2a0b:1583:eab5:44f4:0fea:99f8:2ecd:53bc",
//   ],
// ];
// foreach ($aa as $key => $item) {
//   try {
// $setting["app_info"]["app_id"] = "14163580";
// $setting["app_info"]["app_hash"] = "9818dc57ed5f3209842a591605978db5";
// $settings["connection_settings"]["all"]["proxy"] = "\SocksProxy";
// $settings["connection_settings"]["all"]["proxy_extra"] = [
//   "address" => $proxy[0]["address"],
//   "port" => $proxy[0]["port"],
//   "username" => $proxy[0]["login"],
//   "password" => $proxy[0]["password"],
//   "ipv6" => $proxy[0]["ivp6"],
// ];
// $a = new \danog\MadelineProto\API("84563207844", $setting);
//         "address" => $item["address"],
//         "port" => $item["port"],
//         "username" => $item["login"],
//         "password" => $item["password"],
//         "ipv6" => $item["ivp6"],
//       ]
//     );

//     $a->messages->sendMessage(
//       peer: "@hitThat",
//       message: "{$key} hell MY {$key} fried{$key}ndo"
//     );
//   } catch (\Exception $e) {
//     print_r($e->getMessage());
//   }
// }

// $a = new \danog\MadelineProto\API(
//   "storage/session/{$phone[$key]}/{$phone[$key]}"
// );

// new Providers(MailingMessagesController::class, "continueTask", [
//   "task" => 214,
//   "msg" =>
//     "–ü—Ä–∏–≤–µ—Ç! –ü–∏—à—É –í–∞–º —Ç–∞–∫ –∫–∞–∫ –º—ã —Å–æ—Å—Ç–æ–∏–º –≤ –æ–¥–Ω–æ–º —á–∞—Ç–µ.\n\n–ú–µ–Ω—è –∑–æ–≤—É—Ç –î–º–∏—Ç—Ä–∏–π –ë–µ–¥–∞—Ä–µ–≤, —è –∞–∫—Ç–µ—Ä –∏ —Å—Ü–µ–Ω–∞—Ä–∏—Å—Ç —Ñ–∏–ª—å–º–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –í—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å–º–æ—Ç—Ä–µ–ª–∏ –ø–æ –¢–í üé¨ ¬´–¢–∞—Ä–∏—Ñ –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π¬ª, ¬´–î–æ–º–æ–≤–æ–π¬ª, ¬´–í –æ–∂–∏–¥–∞–Ω–∏–∏ —á—É–¥–∞¬ª, ¬´–ë–µ–ª–æ–≤–æ–¥—å–µ¬ª –∏ –ø—Ä.\n\n–í—Å–µ —ç—Ç–∏ —Ñ–∏–ª—å–º—ã —Å–≤—è–∑–∞–Ω—ã —Å —á—É–¥–µ—Å–∞–º–∏ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∂–µ–ª–∞–Ω–∏–π –∏ –ø–æ—ç—Ç–æ–º—É —è —Å–æ–∑–¥–∞–ª –Ω–∞—Å—Ç–æ—è—â–∏–π –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π –º–∞—Ä–∞—Ñ–æ–Ω ‚ú® ¬´–¢—ã –º–æ–∂–µ—à—å –í—Å–µ!¬ª‚ú®\n\n–Ø —Ö–æ—á—É –ø–æ–ø—Ä–æ—Å–∏—Ç—å –í–∞—Å –ø—Ä–æ–π—Ç–∏ —ç—Ç–æ—Ç –º–∞—Ä–∞—Ñ–æ–Ω, –í—ã –ø–æ–ª—É—á–∏—Ç–µ –º–Ω–æ–≥–æ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –Ω—É –∞ –¥–ª—è –º–µ–Ω—è –±—É–¥–µ—Ç –≤–∞–∂–µ–Ω –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ—Ç–∑—ã–≤ ü§ù\n\n–•–æ—Ä–æ—à–æ? –í–æ—Ç —Å—Å—ã–ª–æ—á–∫–∞, —Ç–∞–º –≤—Å–µ –æ–ø–∏—Å–∞–ª - https://lifeskill.pro/?utm_source=telegram \n\n–≠—Ç–æ 21-–¥–Ω–µ–≤–Ω—ã–π –º–∞—Ä–∞—Ñ–æ–Ω –∏ –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –í—ã –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç–µ –ª—é–±—É—é —Å–≤–æ—é –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é —Ü–µ–ª—å!\n\n[–í–ê–ñ–ù–û!] –°—Ç–∞—Ä—Ç –º–∞—Ä–∞—Ñ–æ–Ω–∞ - 6 —Å–µ–Ω—Ç—è–±—Ä—è\n\n–ë—É–¥—É –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å üôè –∏ –±—É–¥—É —Ä–∞–¥ –≤–∏–¥–µ—Ç—å –í–∞—Å –Ω–∞ –º–∞—Ä–∞—Ñ–æ–Ω–µ \n–í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –ú–∞—Ä–∞—Ñ–æ–Ω—É –ø—É–±–ª–∏–∫—É—é –≤ –∫–∞–Ω–∞–ª–µ, –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å - https://t.me/+QNJdHU1TfU40ZGUy\n\n–°–ø–∞—Å–∏–±–æ!",
//   "photo" => "DimaTelegram.jpg",
// ]);
